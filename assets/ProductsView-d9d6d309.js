import{_ as k,g as P,a as h,r as u,o,c as n,e as t,F as x,h as y,n as v,t as c,b as l,w as L,d as g}from"./index-ac08cdbd.js";const{VITE_APP_URL:p,VITE_APP_PATH:m}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"qwe1234",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},w={data(){return{products:[],page:{},isLoading:!0}},components:[P],methods:{getProducts(a=1){h.get(`${p}/api/${m}/products?page=${a}`).then(s=>{this.page=s.data.pagination,this.products=s.data.products,this.isLoading=!1}).catch(s=>{console.log(s)})},addToCart(a,s=1){const d={product_id:a,qty:s};this.loadingItem=a,h.post(`${p}/api/${m}/cart`,{data:d}).then(i=>{console.log(i.data)}).catch(i=>{console.log(i)})}},mounted(){this.getProducts()}},T={key:0,class:"loading"},V=t("div",{class:"bounceBall me-2"},null,-1),$=t("div",{class:"text h5"},"NOW LOADING...ʕ̯•͡ˑ͓•̯᷅ʔ",-1),A=[V,$],E={key:1,class:"table align-middle"},R=t("thead",null,[t("tr",null,[t("th",{width:"25%"},"圖片"),t("th",null,"商品名稱"),t("th",{width:"20%"},"價格"),t("th",{width:"20%",class:"text-center"},"備註")])],-1),I={key:0,class:"h5"},C={key:1},B={class:"h6 text-decoration-line-through"},D={class:"h5"},N={class:"text-center"},S={class:"btn-group btn-group-sm"},O=["onClick"];function U(a,s,d,i,r,f){const _=u("font-awesome-icon"),b=u("RouterLink");return r.isLoading?(o(),n("div",T,A)):(o(),n("table",E,[R,t("tbody",null,[(o(!0),n(x,null,y(r.products,e=>(o(),n("tr",{key:e.id},[t("td",null,[t("div",{style:v([{height:"200px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,c(e.title),1),t("td",null,[e.price===e.origin_price?(o(),n("p",I,c(e.price)+" 元 ",1)):(o(),n("div",C,[t("p",B," 原價 "+c(e.origin_price)+" 元 ",1),t("p",D,"現在只要 "+c(e.price)+" 元",1)]))]),t("td",N,[t("div",S,[l(b,{to:`product/${e.id}`,class:"btn btn-outline-secondary"},{default:L(()=>[l(_,{class:"me-2",icon:"fa-solid fa-magnifying-glass"}),g("查看更多")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",onClick:z=>f.addToCart(e.id)},[l(_,{class:"me-2",icon:"fa-solid fa-cart-shopping"}),g("加到購物車 ")],8,O)])])]))),128))])]))}const H=k(w,[["render",U]]);export{H as default};
