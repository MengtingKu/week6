import{_ as m,e as b,f as r,r as k,o as n,c as a,d as t,F as d,g as P,n as f,t as c,a as x,w as $,b as y}from"./index-04c4e9e9.js";const{VITE_APP_URL:_,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"qwe1234",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},T={data(){return{products:[],page:{}}},components:[b],methods:{getProducts(o=1){r.get(`${_}/api/${h}/products?page=${o}`).then(s=>{this.page=s.data.pagination,this.products=s.data.products,this.isLoading=!1}).catch(s=>{console.log(s)})},addToCart(o,s=1){const l={product_id:o,qty:s};this.loadingItem=o,r.post(`${_}/api/${h}/cart`,{data:l}).then(i=>{console.log(i.data)}).catch(i=>{console.log(i)})}},mounted(){this.getProducts()}},V=t("h1",null,"這是一個「產品列表」頁面",-1),v={class:"table align-middle"},w=t("thead",null,[t("tr",null,[t("th",{width:"25%"},"圖片"),t("th",null,"商品名稱"),t("th",{width:"20%"},"價格"),t("th",{width:"20%",class:"text-center"},"備註")])],-1),E={key:0,class:"h5"},L={key:1},R={class:"h6 text-decoration-line-through"},A={class:"h5"},C={class:"text-center"},I={class:"btn-group btn-group-sm"},S=["onClick"];function B(o,s,l,i,u,p){const g=k("RouterLink");return n(),a(d,null,[V,t("table",v,[w,t("tbody",null,[(n(!0),a(d,null,P(u.products,e=>(n(),a("tr",{key:e.id},[t("td",null,[t("div",{style:f([{height:"200px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,c(e.title),1),t("td",null,[e.price===e.origin_price?(n(),a("p",E,c(e.price)+" 元 ",1)):(n(),a("div",L,[t("p",R," 原價 "+c(e.origin_price)+" 元 ",1),t("p",A,"現在只要 "+c(e.price)+" 元",1)]))]),t("td",C,[t("div",I,[x(g,{to:`product/${e.id}`,class:"btn btn-outline-secondary"},{default:$(()=>[y("查看更多")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",onClick:D=>p.addToCart(e.id)}," 加到購物車 ",8,S)])])]))),128))])])],64)}const N=m(T,[["render",B]]);export{N as default};
